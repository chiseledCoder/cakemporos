{% extends 'superadmin/superadmin_base.html' %}
{% load staticfiles %}

{% block extracss %}
<link href="{% static 'superadmin/global/plugins/datatables/datatables.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'superadmin/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'superadmin/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'superadmin/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'superadmin/global/plugins/fancybox/source/jquery.fancybox.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}
<!-- BEGIN CONTENT -->
                <div class="page-content-wrapper">
                    <!-- BEGIN CONTENT BODY -->
                    <div class="page-content">
                        <!-- BEGIN PAGE HEADER-->
                        <!-- BEGIN PAGE BAR -->
                        <div class="page-bar">
                            <ul class="page-breadcrumb">
                                <li>
                                    <a href="index.html">Home</a>
                                    <i class="fa fa-circle"></i>
                                </li>
                                <li>
                                    <a href="{% url 'superadmin_bakers_list' %}">Bakers List</a>
                                    <i class="fa fa-circle"></i>
                                </li>
                                <li>
                                    <a href="{% url 'superadmin_baker_details' baker.slug %}">{{ baker }}</a>
                                    <i class="fa fa-circle"></i>
                                </li>
                                <li>
                                    <span>Add Product</span>
                                </li>
                            </ul>
                            <div class="page-toolbar">
                                <div class="btn-group pull-right">
                                    <button type="button" class="btn green btn-sm btn-outline dropdown-toggle" data-toggle="dropdown"> Actions
                                        <i class="fa fa-angle-down"></i>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li>
                                            <a href="#">
                                                <i class="icon-bell"></i> Action</a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="icon-shield"></i> Another action</a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="icon-user"></i> Something else here</a>
                                        </li>
                                        <li class="divider"> </li>
                                        <li>
                                            <a href="#">
                                                <i class="icon-bag"></i> Separated link</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- END PAGE BAR -->
                        <!-- BEGIN PAGE TITLE-->
                        <h1 class="page-title"> Add Product
                            <small>to {{ baker }}</small>
                        </h1>
                        <!-- END PAGE TITLE-->
                        <!-- END PAGE HEADER-->
                        <div class="row">
                            <div class="col-md-12">
                                <form method="POST" class="form-horizontal form-row-seperated" action='{% url "superadmin_add_new_product" baker.slug %}'>{% csrf_token %}
                                    <div class="portlet">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-shopping-cart"></i>Test Product </div>
                                            <div class="actions btn-set">
                                                <button type="button" name="back" class="btn btn-secondary-outline">
                                                    <i class="fa fa-angle-left"></i> Back</button>
                                                <button class="btn btn-secondary-outline">
                                                    <i class="fa fa-reply"></i> Reset</button>
                                                <button class="btn btn-success">
                                                    <i class="fa fa-check"></i> Save</button>
                                                <button class="btn btn-success">
                                                    <i class="fa fa-check-circle"></i> Save & Continue Edit</button>
                                                <div class="btn-group">
                                                    <a class="btn btn-success dropdown-toggle" href="javascript:;" data-toggle="dropdown">
                                                        <i class="fa fa-share"></i> More
                                                        <i class="fa fa-angle-down"></i>
                                                    </a>
                                                    <div class="dropdown-menu pull-right">
                                                        <li>
                                                            <a href="javascript:;"> Duplicate </a>
                                                        </li>
                                                        <li>
                                                            <a href="javascript:;"> Delete </a>
                                                        </li>
                                                        <li class="dropdown-divider"> </li>
                                                        <li>
                                                            <a href="javascript:;"> Print </a>
                                                        </li>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="portlet-body">
                                            <div class="tabbable-bordered">
                                                <ul class="nav nav-tabs">
                                                    <li class="active">
                                                        <a href="#tab_general" data-toggle="tab"> General </a>
                                                    </li>
                                                    <li>
                                                        <a href="#tab_variations" data-toggle="tab"> Variations </a>
                                                    </li>
                                                    <li>
                                                        <a href="#tab_likes" data-toggle="tab"> Reviews
                                                            <span class="badge badge-success"> 3 </span>
                                                        </a>
                                                    </li>
                                                </ul>
                                                <div class="tab-content">
                                                    <div class="tab-pane active" id="tab_general">
                                                        <div class="form-body">
                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label">Name:
                                                                    <span class="required"> * </span>
                                                                </label>
                                                                <div class="col-md-10">
                                                                    <input type="text" class="form-control" name="product_title" placeholder="" autofocus> </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label">Description:
                                                                    <span class="required"> * </span>
                                                                </label>
                                                                <div class="col-md-10">
                                                                    <textarea class="form-control" name="product_description"></textarea>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label">Categories:
                                                                    <span class="required"> * </span>
                                                                </label>
                                                                <div class="col-md-10">
                                                                    <select class="table-group-action-input form-control input-medium" name="product_by_category">
                                                                    {% for category in categories %}
                                                                        <option value="{{ category }}">{{ category }}</option>
                                                                    {% endfor %}
                                                                </select>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label">Status:
                                                                    <span class="required"> * </span>
                                                                </label>
                                                                <div class="col-md-10">
                                                                    <select class="table-group-action-input form-control input-medium" name="product_status">
                                                                        <option value="" disabled="disabled">Select...</option>
                                                                        <option value="Enabled">Enabled</option>
                                                                        <option value="Disabled">Disabled</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" id="tab_variations">
                                                        <div class="form-group">
                                                                <label class="col-md-2 control-label">Product Type:
                                                                    <span class="required"> * </span>
                                                                </label>
                                                                <div class="col-md-10">
                                                                    <select class="table-group-action-input form-control input-medium" name="product_by_type" id="product_by_type">
                                                                        <option value="" selected="selected" disabled="disabled">Select</option>
                                                                        {% for product_type in product_types %}
                                                                            <option value="{{ product_type }}">{{ product_type }}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                        </div>
                                                        <div class="form-group"> 
                                                            <label class="col-md-2 control-label">Egg Variations</label>
                                                            <div class="col-md-6">
                                                               <select class="form-control" id="egg_or_eggless_variant" name="egg_or_eggless_variant" multiple="multiple">
                                                                    {% if baker.veg_or_nonveg == "Both" %}
                                                                        <option value="Egg">Egg</option>
                                                                        <option value="Eggless">Eggless</option>
                                                                    {% elif baker.veg_or_nonveg == "Only Vegeterian" %}
                                                                        <option value="Eggless" selected="selected">Eggless</option>
                                                                    {% elif baker.veg_or_nonveg == "Only Non-Vegeterian" %}
                                                                        <option value="Egg" selected="selected">Egg</option>
                                                                    {% endif %} 
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="eggEgg">
                                                            <label class="col-md-2 control-label">Enter Price for Egg
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="eggEgg" name="egg_or_eggless_price" placeholder="Enter Price for Egg Variant"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="eggEggless">
                                                            <label class="col-md-2 control-label">Enter Price Eggless
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="eggEggless" name="eggless_price" placeholder="Enter Price for Eggless Variant"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" id="weight_variant_field" style="display: none"> 
                                                            <label class="col-md-2 control-label">Weight Variations
                                                                <span class="required"> * </span>
                                                            </label>
                                                           <div class="col-md-6">
                                                                <select class="form-control" id="weight_variant" name="weight_variant" multiple="multiple"style="width: 100%" >
                                                                    <option value="0_5Kg">0.5 Kg</option>
                                                                    <option value="1Kg">1 Kg</option>
                                                                    <option value="1_5Kg">1.5 Kg</option>
                                                                    <option value="2Kg">2 Kg</option>
                                                                </select>
                                                           </div>
                                                        </div>
                                                        <div class="form-group" style="display: none" id="weight_price0_5Kg">
                                                            <label class="col-md-2 control-label">Enter Price for 0.5 Kg
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-4">
                                                                <input class="form-control" id="weight_price0_5Kg" name="weight_05_price" placeholder="Enter Price for 0.5 Kg Variant"
                                                            /></div>
                                                        </div>
                                                        <div class="form-group" style="display: none" id="weight_price1Kg">
                                                            <label class="col-md-2 control-label">Enter Price for 1 Kg
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="weight_price1Kg" name="weight_1_price" placeholder="Enter Price for 1 Kg Variant"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none" id="weight_price1_5Kg">
                                                            <label class="col-md-2 control-label">Enter Price for 1.5 Kg
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="weight_price1_5Kg" name="weight_15_price" placeholder="Enter Price for 1.5 Kg Variant"
                                                            /></div>
                                                        </div>
                                                        <div class="form-group" style="display: none" id="weight_price2Kg">
                                                            <label class="col-md-2 control-label">Enter Price for 2 Kg
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="weight_price2Kg" name="weight_2_price" placeholder="Enter Price for 2 Kg Variant"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" id="box_variant_field" style="display: none;"> 
                                                            <label class="col-md-2 control-label">Box Variations</label>
                                                                   <div class="col-md-6">
                                                                        <select class="form-control" id="box_variant" name="box_variant" multiple="multiple"style="width: 100%" >
                                                                            <option value="1_Box">1 Box</option>
                                                                            <option value="2_Box">2 Box</option>
                                                                            <option value="3_Box">3 box</option>
                                                                            <option value="4_Box">4 Box</option>
                                                                            <option value="5_Box">5 Box</option>
                                                                            <option value="6_Box">6 Box</option>
                                                                        </select>
                                                                   </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="box_price1_Box">
                                                            <label class="col-md-2 control-label">Enter Price for 1 box
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="box_price1_Box" name="box_1_price" placeholder="Enter Price for 1 Box"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="box_price2_Box">
                                                            <label class="col-md-2 control-label">Enter Price for 2 box
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="box_price2_Box" name="box_2_price" placeholder="Enter Price for 2 Boxes"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="box_price3_Box">
                                                            <label class="col-md-2 control-label">Enter Price for 3 box
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="box_price3_Box" name="box_3_price" placeholder="Enter Price for 3 Boxes"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="box_price4_Box">
                                                            <label class="col-md-2 control-label">Enter Price for 4 box
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="box_price4_Box" name="box_4_price" placeholder="Enter Price for 4 Boxes"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="box_price5_Box">
                                                            <label class="col-md-2 control-label">Enter Price for 5 box
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="box_price5_Box" name="box_5_price" placeholder="Enter Price for 5 Boxes"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" style="display: none;" id="box_price6_Box">
                                                            <label class="col-md-2 control-label">Enter Price for 6 box
                                                                <span class="required"> * </span>
                                                            </label>
                                                            <div class="col-md-6">
                                                                <input class="form-control" id="box_price6_Box" name="box_6_price" placeholder="Enter Price for 6 Boxes"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" id="tab_likes">
                                                        <div class="table-container">
                                                            <table class="table table-striped table-bordered table-hover" id="datatable_reviews">
                                                                <thead>
                                                                    <tr role="row" class="heading">
                                                                        <th width="5%"> Review&nbsp;# </th>
                                                                        <th width="10%"> Review&nbsp;Date </th>
                                                                        <th width="10%"> Customer </th>
                                                                        <th width="20%"> Review&nbsp;Content </th>
                                                                        <th width="10%"> Status </th>
                                                                        <th width="10%"> Actions </th>
                                                                    </tr>
                                                                    <tr role="row" class="filter">
                                                                        <td>
                                                                            <input type="text" class="form-control form-filter input-sm" name="product_review_no"> </td>
                                                                        <td>
                                                                            <div class="input-group date date-picker margin-bottom-5" data-date-format="dd/mm/yyyy">
                                                                                <input type="text" class="form-control form-filter input-sm" readonly name="product_review_date_from" placeholder="From">
                                                                                <span class="input-group-btn">
                                                                                    <button class="btn btn-sm default" type="button">
                                                                                        <i class="fa fa-calendar"></i>
                                                                                    </button>
                                                                                </span>
                                                                            </div>
                                                                            <div class="input-group date date-picker" data-date-format="dd/mm/yyyy">
                                                                                <input type="text" class="form-control form-filter input-sm" readonly name="product_review_date_to" placeholder="To">
                                                                                <span class="input-group-btn">
                                                                                    <button class="btn btn-sm default" type="button">
                                                                                        <i class="fa fa-calendar"></i>
                                                                                    </button>
                                                                                </span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <input type="text" class="form-control form-filter input-sm" name="product_review_customer"> </td>
                                                                        <td>
                                                                            <input type="text" class="form-control form-filter input-sm" name="product_review_content"> </td>
                                                                        <td>
                                                                            <select name="product_review_status" class="form-control form-filter input-sm">
                                                                                <option value="">Select...</option>
                                                                                <option value="pending">Pending</option>
                                                                                <option value="approved">Approved</option>
                                                                                <option value="rejected">Rejected</option>
                                                                            </select>
                                                                        </td>
                                                                        <td>
                                                                            <div class="margin-bottom-5">
                                                                                <button class="btn btn-sm btn-success filter-submit margin-bottom">
                                                                                    <i class="fa fa-search"></i> Search</button>
                                                                            </div>
                                                                            <button class="btn btn-sm btn-danger filter-cancel">
                                                                                <i class="fa fa-times"></i> Reset</button>
                                                                        </td>
                                                                    </tr>
                                                                </thead>
                                                                <tbody> </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" id="tab_history">
                                                        <div class="table-container">
                                                            <table class="table table-striped table-bordered table-hover" id="datatable_history">
                                                                <thead>
                                                                    <tr role="row" class="heading">
                                                                        <th width="25%"> Datetime </th>
                                                                        <th width="55%"> Description </th>
                                                                        <th width="10%"> Notification </th>
                                                                        <th width="10%"> Actions </th>
                                                                    </tr>
                                                                    <tr role="row" class="filter">
                                                                        <td>
                                                                            <div class="input-group date datetime-picker margin-bottom-5" data-date-format="dd/mm/yyyy hh:ii">
                                                                                <input type="text" class="form-control form-filter input-sm" readonly name="product_history_date_from" placeholder="From">
                                                                                <span class="input-group-btn">
                                                                                    <button class="btn btn-sm default date-set" type="button">
                                                                                        <i class="fa fa-calendar"></i>
                                                                                    </button>
                                                                                </span>
                                                                            </div>
                                                                            <div class="input-group date datetime-picker" data-date-format="dd/mm/yyyy hh:ii">
                                                                                <input type="text" class="form-control form-filter input-sm" readonly name="product_history_date_to" placeholder="To">
                                                                                <span class="input-group-btn">
                                                                                    <button class="btn btn-sm default date-set" type="button">
                                                                                        <i class="fa fa-calendar"></i>
                                                                                    </button>
                                                                                </span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <input type="text" class="form-control form-filter input-sm" name="product_history_desc" placeholder="To" /> </td>
                                                                        <td>
                                                                            <select name="product_history_notification" class="form-control form-filter input-sm">
                                                                                <option value="">Select...</option>
                                                                                <option value="pending">Pending</option>
                                                                                <option value="notified">Notified</option>
                                                                                <option value="failed">Failed</option>
                                                                            </select>
                                                                        </td>
                                                                        <td>
                                                                            <div class="margin-bottom-5">
                                                                                <button class="btn btn-sm btn-default filter-submit margin-bottom">
                                                                                    <i class="fa fa-search"></i> Search</button>
                                                                            </div>
                                                                            <button class="btn btn-sm btn-danger-outline filter-cancel">
                                                                                <i class="fa fa-times"></i> Reset</button>
                                                                        </td>
                                                                    </tr>
                                                                </thead>
                                                                <tbody> </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- END CONTENT BODY -->
                </div>
                <!-- END CONTENT -->
{% endblock %}

{% block extrajs %}
<script src="{% static 'superadmin/assets/global/scripts/datatable.js' %}" type="text/javascript"></script>
<script src="{% static 'superadmin/assets/global/plugins/datatables/datatables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'superadmin/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js' %}" type="text/javascript"></script>
<script src="{% static 'superadmin/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js' %}" type="text/javascript"></script>
<script src="{% static 'superadmin/assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js' %}" type="text/javascript"></script>
<script src="{% static 'superadmin/assets/global/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js' %}" type="text/javascript"></script>
<script src="{% static 'superadmin/assets/global/plugins/fancybox/source/jquery.fancybox.pack.js' %}" type="text/javascript"></script>
<script src="{% static 'superadmin/assets/global/plugins/plupload/js/plupload.full.min.js' %}" type="text/javascript"></script>
<script type="text/javascript">
    
    $('li.bakers').addClass('start active open');
    $('li.bakers.view-all').addClass('start active');
</script>
<script type="text/javascript">
$(document).ready(function() {
        $('#egg_or_eggless_variant').select2({
            placeholder: "Enter Egg or Eggless",
        });
        $('#weight_variant').select2({
            placeholder: "Enter Weight Variant",
        });
        $('#box_variant').select2({
            placeholder: "Enter Box Variants",
        });
        if ($("select[name=egg_or_eggless_variant] option:selected").val() == 'Egg') {
            $('div#egg' + 'Egg').css('display','block');
            $('input#egg' + 'Egg').prop('required', true);
            $('input#egg' + 'Eggless').prop('required', false);
        };
        if ($("select[name=egg_or_eggless_variant] option:selected").val() == 'Eggless') {
                $('div#egg' + 'Eggless').css('display','block');
                $('input#egg' + 'Eggless').prop('required', true);
                $('input#egg' + 'Egg').prop('required', false);
        };
        if ($("select[name=egg_or_eggless_variant] option:selected").val() == null ) {
                $('div[id^=egg]').css('display','none');
                $('input#egg' + 'Eggless').prop('required', false);
                $('input#egg' + 'Egg').prop('required', false);
        }
        $('select[id=egg_or_eggless_variant]').change(function(){
            if ($("select[name=egg_or_eggless_variant] option:selected").val() == 'Egg') {
                $('div#egg' + 'Egg').css('display','block');
                $('input#egg' + 'Egg').prop('required', true);
                $('input#egg' + 'Eggless').prop('required', false);
            };
            if ($("select[name=egg_or_eggless_variant] option:selected").val() == 'Eggless') {
                    $('div#egg' + 'Eggless').css('display','block');
                    $('input#egg' + 'Eggless').prop('required', true);
                    $('input#egg' + 'Egg').prop('required', false);
            };
            if ($("select[name=egg_or_eggless_variant] option:selected").val() == null ) {
                    $('div[id^=egg]').css('display','none');
                    $('input#egg' + 'Eggless').prop('required', false);
                    $('input#egg' + 'Egg').prop('required', false);
            }
        });

        $('#product_by_type').change(function(){
        var region = $(this).val();
        if (region == "Cake") {
            $('#weight_variant_field').css('display','block');
            $('#box_variant_field').css('display','none');
            $('#box_variant').prop('required', false);
            $('#weight_variant').prop('required', true);
            $('div[id^=box_price').css('display', 'none');
        } else if (region == "Cup cake") {
            $('#weight_variant_field').css('display','none');
            $('#box_variant_field').css('display','block');
            $('#box_variant').prop('required', true);
            $('#weight_variant').prop('required', false);
            $('div[id^=weight_price').css('display', 'none');
        }
        });
        $('#weight_variant').change(function(){
        var numstr = $(this).val() + "";
        var numarr = numstr.split(',');
        $('div[id^=weight_price]').css('display','none');
        $('input[id^=weight_price]').prop('required',false);
            $.each(numarr, function(i, val) {
                $('div#weight_price' + val).css('display','block');
                $('input#weight_price' + val).prop('required',true);

            });
        });
        $('#box_variant').change(function(){
        var numstr = $(this).val() + "";
        var numarr = numstr.split(',');
        $('div[id^=box_price]').css('display','none');
        $('input[id^=box_price]').prop('required',false);
            $.each(numarr, function(i, val) {
                $('div#box_price' + val).css('display','block');
                $('input#box_price' + val).prop('required',true);
            });
        });
    });/*End of document.ready() */
</script>
{% endblock %}